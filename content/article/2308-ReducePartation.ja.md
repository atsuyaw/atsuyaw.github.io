---
title: "Win/Linuxマルチブート環境構築のためのEFIパーテーション拡張"
date: 2023-08-12T21:00:00+01:00
draft: true
summary: "Winが作成したEFIパーテーションのサイズを大きくする"
showDate: true
excludeFromIndex: false
categories: ["Tips"]
icon: "fa-lightbulb"
# tags: ["Microsoft Office", "PowerPoint", "Presentation", "Font"]
---

<p>
<img src="//img.shields.io/badge/-MS%20PowerPoint-B7472A?logo=Microsoft%20PowerPoint" alt="MS PowerPoint" align="left"></br>
</p>

※ご紹介する操作が万一失敗すると，システムに深刻な影響を与える可能性があります。  
事前にバックアップを作成するなど，慎重に作業にあたってください。

## 読み飛ばしても良い緒言
WindowsとLinuxとを同居させるようなマルチブート（デュアルブート）環境を構築する場合，
まずWinをインストールし，次いでLinuxをインストールするのが一般的です。  
逆の順序でも可能ですが，Winはマルチブートを推奨しておらず，Linuxではマルチブートの知見も多いことから，
トラブル時の対処はこの順番のほうが楽だと思います。

さてこの場合，Winがインストールプロセスで自動的にいくつかのパーテーションを作成しますが，  
作成されるブート用のEFIシステムパーテーションは300MBに満たず，
もちろんWinだけであれば問題ないと思われますが，Linuxをインストールするには少し心許ない容量です。

<!-- 画像 -->


EFIパーテーションの容量が不足した場合，アップデートに必要なファイルが取り込めないなどのトラブルが考えられます。  
特に最近ではNVMEも含めストレージの価格はかなり落ち着いており，スペース的な余裕があれば大きめのEFIパーテーションを用意したいものです。

問題は，パーテーションの拡張には直後にスペースが必要であるということです。
Winは通常，EFIシステムパーテーションを記憶域の先頭に作成し，データパーテーション（いわゆるCドライブ），リカバリパーテーションが続きます。  
前述の通り，EFIパーテーションのサイズを拡張するには，EFIパーテーションの直後に（少なくとも拡張サイズ分の）スペースが必要ですが，
Winが自動的に作成するパーテーションの構成では，そんな隙はないはずです。

今回はThinkpad X390においてWindown11がインストール中に作成したEFIシステムパーテーションを拡張してみます。

