<!doctype html><html itemscope itemtype=https://schema.org/WebPage class=no-js lang=ja><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=siteBaseUrl content="https://atsuyaw.github.io"><meta name=author content="Atsuya Watanabe"><meta name=description content><meta name=keywords content><meta name=generator content="Hugo 0.118.2"><title>メモ: WSLでcondaをインストール | 渡邉充哉</title><meta itemprop=name content="メモ: WSLでcondaをインストール"><meta itemprop=description content="メモ: WSLでcondaをインストール - %!s(<nil>)"><meta property="og:site_name" content="渡邉充哉"><meta property="og:title" content="メモ: WSLでcondaをインストール"><meta property="og:description" content="WSLでcondaをインストールした際の備忘録"><meta property="og:type" content="article"><meta property="og:url" content="https://atsuyaw.github.io/article/2106-condawsl/"><meta property="article:section" content="article"><meta property="article:published_time" content="2021-06-13T16:30:34+09:00"><meta property="article:modified_time" content="2023-09-15T21:22:20+09:00"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#ffffff"><meta name=theme-color content="#ffffff"><link rel=canonical href=https://atsuyaw.github.io/article/2106-condawsl/><link rel=stylesheet href=https://atsuyaw.github.io/theme.min.60c85c9fd2bb9b6fc3f5fd58addf20ba46a0e0293a726beaffbcbc745050ede6.css integrity="sha256-YMhcn9K7m2/D9f1Yrd8gukag4Ck6cmvq/7y8dFBQ7eY=" media=screen><link rel=stylesheet href=https://atsuyaw.github.io/sass/custom.css><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css></head><body class=bilberry-hugo-theme><nav class="permanentTopNav sticky"><div class=container><ul class=topnav><li><a href=/page/readme/>About</a></li><li><a href=/page/papers/>Paper</a></li><li><a href=/page/presentations/>Presentation</a></li><li><a href=https://researchmap.jp/atsuyaw target=_blank>Researchmap↗</a></li></ul></div></nav><header class=sticky><a id=back-to-top-button><i class="fas fa-angle-up"></i></a><div class=container><div class=logo><a href=/ class=logo><img src=/images/avatar.jpg alt>
<span class=overlay><i class="fa fa-home"></i></span></a></div><div class=titles><h3 class=title><a href=/>渡邉充哉</a></h3></div><div class=languages><a href=/article/2106-condawsl/ class=active>ja</a>
<a href=/en/>en</a></div><div class="toggler permanentTopNav"><i class="fa fa-bars" aria-hidden=true></i></div></div></div></header><div class="main container"><div class="article-wrapper u-cf single"><a class=bubble href=https://atsuyaw.github.io/article/2106-condawsl/><i class="fas fa-fw fa-pencil-alt"></i></a><article class="default article"><div class=content><h1 class=article-title><a href=https://atsuyaw.github.io/article/2106-condawsl/>メモ: WSLでcondaをインストール</a></h1><div class=meta><span class=date>2021-06-13</span>
<span class=categories><a href=https://atsuyaw.github.io/categories/tips/>Tips</a></span></div><h1 id=ことのアラマシ>ことのアラマシ</h1><p>FDTD法という電磁波シミュレーションしたい<br>↓<br>高額なソフトが必要<br>↓<br>MEEPというフリーソフトで可能<br>↓<br>MEEPはLinux or Mac環境でしか動作しないらしい…</p><p>ということでLinux環境をWindows上に構築する必要が生じました。<br>最近は便利なものでWindows Subsystem for Linux（WSL）というMicrosoft謹製ツールが配布されており，<strong>手軽に</strong>Linux環境が構築できるとのこと。<br><del>いまにして思えばこれを鵜呑みにしたのが良くなかったような…</del></p><h1 id=導入手順>導入手順</h1><p>導入自体は<a href=https://meep.readthedocs.io/en/latest/Installation/ target=_blank>MEEPの公式ドキュメント</a>で説明されている。</p><p>まずはパッケージ管理ツールminicondaを導入する</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>wget https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh -O miniconda.sh
</span></span><span style=display:flex><span>bash miniconda.sh -b -p &lt;desired_prefix&gt;
</span></span><span style=display:flex><span>export PATH=&lt;desired_prefix&gt;/bin:$PATH
</span></span></code></pre></div><p><code>conda</code>で<code>pymeep</code>を導入する。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>conda create -n mp -c conda-forge pymeep
</span></span></code></pre></div><p>ところが，2手目の</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>bash miniconda.sh -b -p
</span></span></code></pre></div><p>がうまくいかなかった。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>OSError: [Errno 40] Too many levels of symbolic links:
</span></span></code></pre></div><p>原因がよくわからず2週間を費やした（さすがにこればっかりやってたわけじゃないけど…）。</p><h1 id=解決>解決</h1><p>調べても情報があまり出てこなくて時間を費やした。<br>結局のところWSL上でAnacondaを入れようとしたときに発生する不具合のようだった（たぶん）。<br>Githubで<a href=https://github.com/conda/conda/issues/10333#issuecomment-836803901 target=_blank>タイムリーなissue</a>が立っていて，これを参考に解決に至った。</p><p>あとはこのissueに追記した通り。<br>原因は</p><ul><li><code>pkgs/ncurses-6.2-h58526e2_4/share/terminfo/N/ncr260vt300wpp</code></li><li><code>pkgs/ncurses-6.2-h58526e2_4/share/terminfo/E/Eterm</code></li></ul><p>で，これらに含まれるリンクが良くないとのこと。<br><a href=https://github.com/conda/conda/issues/10333#issuecomment-836803901 target=_blank>issue #10333 (comment)</a>では別途ncursesパッケージを<a href=https://anaconda.org/conda-forge/ncurses/files target=_blank>Anacondaのページ</a>から拾ってきて上記2ファイルを差し替えれば良いとのことだったが，これでは解消しなかった。<br>渡邉の環境ではリンク先である</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>miniconda3/share/terminfo/N/ncr260vt300wpp
</span></span></code></pre></div><p>をコピーしてきて</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>pkgs/ncurses-6.2-h58526e2_4/share/terminfo/N/ncr260vt300wpp
</span></span></code></pre></div><p>を置き換えたところminicondaのインストールが成功した<br>(<code>Eterm</code>のファイルサイズが違うぞって怒られたけど無視)。</p></div><div class="footer no-tags"></div></article></div><div id=comments-container></div></div><footer><div class=container><div class=categories><a href=https://atsuyaw.github.io/categories/><strong>カテゴリー</strong></a><ul><li><a href=https://atsuyaw.github.io/categories/misc/>Misc (17)</a></li><li><a href=https://atsuyaw.github.io/categories/meeting/>Meeting (13)</a></li><li><a href=https://atsuyaw.github.io/categories/paper/>Paper (6)</a></li><li><a href=https://atsuyaw.github.io/categories/tips/>Tips (3)</a></li></ul></div><div class=right><div class=external-profiles><strong>ソーシャルメディア</strong>
<a href=https://orcid.org/0000-0002-6861-7352 target=_blank rel><em class="fab fa-orcid"></em></a>
<a href="https://scholar.google.com/citations?hl=ja&amp;user=WOwPSkEAAAAJ" target=_blank rel><em class="ai ai-google-scholar"></em></a>
<a href=https://www.webofscience.com/wos/author/rid/AAD-7527-2021 target=_blank rel><em class="ai ai-clarivate"></em></a>
<a href="https://www.scopus.com/authid/detail.uri?authorId=57211107471" target=_blank rel><em class="ai ai-scopus"></em></a>
<a href=https://github.com/atsuyaw target=_blank rel><em class="fab fa-github"></em></a></div><div class=languages><strong>他言語</strong>
<a href=/article/2106-condawsl/ class=active>ja</a>
<a href=/en/>en</a></div><div class=archive></div></div></div></footer><div class=credits><div class=container><div class=copyright><a href=https://github.com/atsuyaw/atsuyaw.github.io target=_blank>&copy;
2023
Atsuya Watanabe</a></div><div class=author><a href=https://github.com/Lednerb/bilberry-hugo-theme target=_blank>Bilberry Hugo Theme</a></div></div></div><script async src="https://www.googletagmanager.com/gtag/js?id=G-HNVCPLHT68"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-HNVCPLHT68",{anonymize_ip:!1})}</script><script src=https://atsuyaw.github.io/theme.min.9dfb94abdf3c084494ac3abe6d29cbd1618b624bf79c9d1dcb988675ee30d738.js integrity="sha256-nfuUq988CESUrDq+bSnL0WGLYkv3nJ0dy5iGde4w1zg="></script>
<script src=https://atsuyaw.github.io/.. type=application/javascript></script>
<script src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js type=application/javascript></script>
<script src=https://atsuyaw.github.io/init-cookieconsent.js type=application/javascript></script></body></html>