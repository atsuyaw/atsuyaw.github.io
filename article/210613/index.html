<!doctype html><html class=no-js lang=jp><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=siteBaseUrl content="https://atsuyaw.github.io"><meta name=author content="Atsuya Watanabe"><meta name=description content><meta name=keywords content><meta name=generator content="Hugo 0.110.0"><title>メモ: WSLでcondaをインストール | 渡邉充哉</title><meta name=description content="メモ: WSLでcondaをインストール - %!s(<nil>)"><meta itemprop=name content="メモ: WSLでcondaをインストール"><meta itemprop=description content="メモ: WSLでcondaをインストール - %!s(<nil>)"><meta property="og:title" content="メモ: WSLでcondaをインストール"><meta property="og:description" content="メモ: WSLでcondaをインストール - %!s(<nil>)"><meta property="og:image" content="https://www.gravatar.com/avatar/d41d8cd98f00b204e9800998ecf8427e?size=200"><meta property="og:url" content="https://atsuyaw.github.io/article/210613/"><meta property="og:site_name" content="渡邉充哉"><meta property="og:type" content="article"><script src=/modernizr-simple.js></script>
<link href=/article/210613/ rel=alternate type=application/rss+xml title=渡邉充哉><link href=/article/210613/ rel=feed type=application/rss+xml title=渡邉充哉><link rel=canonical href=https://atsuyaw.github.io/article/210613/><link rel=stylesheet href=https://atsuyaw.github.io/theme.css><link rel=stylesheet href=https://atsuyaw.github.io/..><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css></head><body class=bilberry-hugo-theme><nav class="permanentTopNav sticky"><div class=container><ul class=topnav><li><a href=https://atsuyaw.github.io/page/readme/>About me</a></li><li><a href=https://atsuyaw.github.io/page/papers/>学術論文</a></li><li><a href=https://atsuyaw.github.io/page/presentations/>学会発表</a></li><li><a href=https://researchmap.jp/atsuyaw target=_blank>Researchmap</a></li></ul></div></nav><header class=sticky><div class=container><div class=logo><a href=/ class=logo><img src=/images/avatar.jpg alt>
<span class=overlay><i class="fa fa-home"></i></span></a></div><div class=titles><h3 class=title><a href=/>渡邉充哉</a></h3></div><div class=languages><a href=https://atsuyaw.github.io/ class=active>jp</a>
<a href=https://atsuyaw.github.io/en/>en</a></div><div class="toggler permanentTopNav"><i class="fa fa-bars" aria-hidden=true></i></div></div></div></header><div class="main container"><div class="article-wrapper u-cf single"><a class=bubble href=https://atsuyaw.github.io/article/210613/><i class="fas fa-fw fa-pencil-alt"></i></a><article class="default article"><div class=content><h1 class=article-title><a href=https://atsuyaw.github.io/article/210613/>メモ: WSLでcondaをインストール</a></h1><div class=meta></div><h1 id=ことのアラマシ>ことのアラマシ</h1><p>FDTD法という電磁波シミュレーションしたい<br>↓<br>高額なソフトが必要<br>↓<br>MEEPというフリーソフトで可能<br>↓<br>MEEPはLinux or Mac環境でしか動作しないらしい…</p><p>ということでLinux環境をWindows上に構築する必要が生じました。<br>最近は便利なものでWindows Subsystem for Linux（WSL）というMicrosoft謹製ツールが配布されており，<strong>手軽に</strong>Linux環境が構築できるとのこと。<br><del>いまにして思えばこれを鵜呑みにしたのが良くなかったような…</del></p><h1 id=導入手順>導入手順</h1><p>導入自体は<a href=https://meep.readthedocs.io/en/latest/Installation/ target=_blank>MEEPの公式ドキュメント</a>で説明されている。</p><p>まずはパッケージ管理ツールminicondaを導入する</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>wget https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh -O miniconda.sh
</span></span><span style=display:flex><span>bash miniconda.sh -b -p &lt;desired_prefix&gt;
</span></span><span style=display:flex><span>export PATH=&lt;desired_prefix&gt;/bin:$PATH
</span></span></code></pre></div><p><code>conda</code>で<code>pymeep</code>を導入する。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>conda create -n mp -c conda-forge pymeep
</span></span></code></pre></div><p>ところが，2手目の</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>bash miniconda.sh -b -p
</span></span></code></pre></div><p>がうまくいかなかった。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>OSError: [Errno 40] Too many levels of symbolic links:
</span></span></code></pre></div><p>原因がよくわからず2週間を費やした（さすがにこればっかりやってたわけじゃないけど…）。</p><h1 id=解決>解決</h1><p>調べても情報があまり出てこなくて時間を費やした。<br>結局のところWSL上でAnacondaを入れようとしたときに発生する不具合のようだった（たぶん）。<br>Githubで<a href=https://github.com/conda/conda/issues/10333#issuecomment-836803901 target=_blank>タイムリーなissue</a>が立っていて，これを参考に解決に至った。</p><p>あとはこのissueに追記した通り。<br>原因は</p><ul><li><code>pkgs/ncurses-6.2-h58526e2_4/share/terminfo/N/ncr260vt300wpp</code></li><li><code>pkgs/ncurses-6.2-h58526e2_4/share/terminfo/E/Eterm</code></li></ul><p>で，これらに含まれるリンクが良くないとのこと。<br><a href=https://github.com/conda/conda/issues/10333#issuecomment-836803901 target=_blank>issue #10333 (comment)</a>では別途ncursesパッケージを<a href=https://anaconda.org/conda-forge/ncurses/files target=_blank>Anacondaのページ</a>から拾ってきて上記2ファイルを差し替えれば良いとのことだったが，これでは解消しなかった。<br>渡邉の環境ではリンク先である</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>miniconda3/share/terminfo/N/ncr260vt300wpp
</span></span></code></pre></div><p>をコピーしてきて</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>pkgs/ncurses-6.2-h58526e2_4/share/terminfo/N/ncr260vt300wpp
</span></span></code></pre></div><p>を置き換えたところminicondaのインストールが成功した<br>(<code>Eterm</code>のファイルサイズが違うぞって怒られたけど無視)。</p></div><div class="footer no-tags"></div></article></div><div id=comments-container></div></div><footer><div class=container><div class=categories><a href=/categories/><strong></strong></a><ul><li><a href=/categories/meeting>Meeting
(8)</a></li><li><a href=/categories/paper>Paper
(4)</a></li><li><a href=/categories/sweden>Sweden
(3)</a></li><li><a href=/categories/other>Other
(2)</a></li></ul></div><div class=right><div class=external-profiles><strong></strong>
<a href=https://orcid.org/0000-0002-6861-7352 target=_blank><i class="fab fa-orcid"></i></a>
<a href="https://scholar.google.com/citations?hl=ja&user=WOwPSkEAAAAJ" target=_blank><i class="fas fa-graduation-cap"></i></a>
<a href=https://github.com/atsuyaw target=_blank><i class="fab fa-github"></i></a></div><div class=languages><strong></strong>
<a href=https://atsuyaw.github.io/ class=active>jp</a>
<a href=https://atsuyaw.github.io/en/>en</a></div><div class=archive><a href=/archive/><strong></strong></a></div></div></div></footer><div class=credits><div class=container><div class=copyright><a href=https://github.com/atsuyaw target=_blank>&copy;
2023
Atsuya Watanabe</a></div><div class=author><a href=%20 target=_blank></a></div></div></div><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-HNVCPLHT68","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script>
<script type=text/javascript src=https://atsuyaw.github.io/theme.js></script>
<script src=https://atsuyaw.github.io/.. type=application/javascript></script>
<script src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js type=application/javascript></script>
<script src=https://atsuyaw.github.io/init-cookieconsent.js type=application/javascript></script></body></html>